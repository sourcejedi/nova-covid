# Selected changes in the covid-public-data files #

This is an arbitrary selection for my own purposes.  It is not a fully
detailed list.  Changes include historical revisions detected by
jump.py/jump.ods, and format changes detected by changes.py.  

The files are described here:

    https://sourcejedi.github.io/2022/01/31/zoe-covid-study.html

For “method v2” etc, see:
    
    https://sourcejedi.github.io/2022/02/02/zoe-covid-study-part-2-methods.html


We can see incidence_20200810.csv was posted on 12/10/2020.  The
numbers in the file name were the standardized form of the date 4 days
earlier, i.e. 08/10/2020.

The file contains time series of incidence for dates 05/12/20 through
08/10/2020.  The given dates represent specimen dates, or more
specifically the last day of a 14-day average.  (See links above).

At the same time, retrospective files were published going back to
incidence_20200570.csv.  New files are published daily.


## By date of report ##

14/01/21    Increased UK population from 66.362 million to 66.436 million.
            Also split the Midlands and NE/Yorkshire.

07/02/21    Files not updated this day. Files created retrospectively.
            Zero historical revisions in next file (looking at days -4 to -34).

09/02/21    First version of incidence_history_{date}.csv and
            prevalence_history_{date}.csv files.  The dates in the names
            of these files are usually the same as the publication date.

23/02/21    *Method v2*

12/05/21    *Method v3*
            incidence_{date}.csv changes method one day earlier.
            incidence_history_{date}.csv does not use v3, but continues with
            method v2.

08/06/21    "Incidence figures are now smoothed over a 7-day rolling window."
            incidence_history continues showing previous method (v2),
            and does not appear to be smoothed.

21/07/21    *Method v4*
            incidence_history_{date}.csv changes method one day later.

07/10/21    *Method v5*

30/10/21    Undocumented adjustment, ~0.5% increase of 2021 estimates.
            This stands out most in prevalence_history.

17/12/21    Use tests from up to 2 days ago, instead of up to 4 days ago.
            prevalence_history was already doing this.


31/01/22    The date given for the last prevalence estimate is now the report
            date minus one, instead of the report date.
            
            Prevalence for NE/Yorks and East/West Midlands are no longer
            apportioned using symptom-based prevalence.

            (Detected using script in prevalence_from_incidence/
             However if you make the report dates consistent, the “jump” for
             the split regions does not stand out very much.  It surprised me 
             this seems to work out so tidily.)

            Changes noted in the PDF report:
            "Added confidence intervals to prevalence estimates split
            North East & Yorkshire and The Humber and Midlands and fixed end
            date of the prevalence figures."

11/02/22    prevalence_history_{date}.csv now includes confidence intervals.

14/02/22    prevalence_history_{date}.csv now starts at 1/11/22.  (No "jump".)

25/02/22    Files not updated this day. Files created retrospectively.
            Near-zero historical revisions in next file (looking at days -4 to -34).
26/02/22    Files not updated this day. Files created retrospectively.
            Near-zero historical revisions in next file (looking at days -4 to -34).

14/04/22    Undocumented adjustment, up to 1% higher estimates.
            (Inputs published in incidence_{date}.csv appear unchanged)

29/04/22    Beginning of weird 18-day pattern in comparisons.
            Bad news: the distribution of “jump” values now has two peaks
            (days with and without the pattern).
            Good news: the higher peak appears quite narrow.
            
27/05/22    Files not updated until 2340 this day.

31/05/22    active_users reduced by 10,000 out of 410,000 (including for past dates).
02/06/22    active_users reduced by 55,000 out of 395,000 (including for past dates).
10/06/22    active_users reduced by 160,000 out of 330,000 (including for past dates).

            "The new symptom reporting flow is available to 80% of App users
            who consented to the ZOE Health Study. While we transition to this
            new flow, COVID figures will be computed on the remaining 20% of
            users. As a result, during the transition period, there may be
            greater uncertainty around our COVID figures due to the smaller
            sample size. We will provide a further update once we have fully
            migrated the COVID figures to the new symptom reporting flow."

22/06/22    active_users increased by 215,000 from 150,000 (including for past dates).

            "From 22nd June, the new symptom reporting flow is available to
            100% of App users who consented to the ZOE Health Study. We have
            fully migrated the COVID figures to the new symptom reporting flow
            and from this day, we compute our estimates on 100% of the
            eligible user base, except for local prevalence figures which are
            smoothed over two weeks and they will be gradually including more
            users."

03/07/22    The weird 18-day pattern appears to stop.

08/07/22    Weird pattern every *19* days AND 1 in 19 is an outlier far below
            the curve.  No such pattern found in inputs.  Perhaps this is a
            smoothing method?  This jump is now removed; the incidence file
            was replaced about an hour later.

            incidence_history and prevalence_history for this day still show
            the pattern.
            
            prevalence_history_20220708.csv does not match
            out/prevalence_from_incidence_/20220706.csv

25/07/22    Data files are now updated before 9 AM.

            prevalence_history_20220725.csv does not match
            out/prevalence_from_incidence_/20220723.csv

27/12/22    Files not updated this day. Files created retrospectively.
            Near-zero historical revisions in next file (looking at days -4 to -58).
28/12/22    Files not updated this day. Files created retrospectively.
            Near-zero historical revisions in next file (looking at days -4 to -58).

01/01/23    Moderate "jump".

12/01/23    Files not updated this day. Files created retrospectively.
            Small "jump".

29/01/23    The files published on this day were retroactively overwritten on
            02/02/23.  With big changes, seemingly because it used method v6
            (below).  Accidents happen.


03/02/23    *Method v6*

            See https://health-study.joinzoe.com/blog/covid-estimates-updated

            The last comparable day is about 50% of the previous estimate.

            If you graph this time series as a percentage of the time series
            from the previous day: over a certain 12 weeks it goes from 100%,
            to under 70%.  It is not a smooth line, but a staircase.

            Each step down occurs on the "reference day" of the weekly ONS CIS
            release.  Steps are visible on reference days 16/12/21 through
            23/11/22.

            This was useful for transparency, or at least "reverse
            engineering".  However, it does introduce unnatural jumps when you
            graph the infections.


05/02/23    Estimates decreased retrospectively by about 6%.
            Steps are visible on ONS reference days 2/12/22 and 6/12/22.

12/02/23    Estimates increased retrospectively by about 0.7%.
            A step is visible on ONS reference day 25/12/22.

24/02/23    Files not updated this day. Files created retrospectively.
            Small "jump".
25/02/23    Files not updated this day. Files created retrospectively.
            Unusually low historical revisions (looking at days -4 to -58).

12/03/23    Estimates increased retrospectively by about 9%.
            Steps are visible on ONS reference days 31/12/22,
            07/01/23, 14/01/23, 21/01/23.

            If you look very closely, you can see steps on many earlier ONS
            reference days - many more than would be expected by chance.


17/03/23    In the files released at 7AM, the incidence series jumps up
            by about 28% on the last day (15/03/23).

	    In the daily infections PDF file, the jumps affect the age groups
            0-17, 18-34, and 35-54 only.

            The files were revised at 5PM, removing this jump in incidence.
            If you look very closely at the changes, you can see steps on ONS
            reference days 16/12/21 through 21/01/23.

            The prevalence data file was not revised.  So that is still based
            on the incidence series with the 28% jump.

19/03/23    The incidence series jumps up by about 28% on 15/03/23.
            Just like the files released at 7AM on 17/03/23.
            We are now in the weekend (Sunday).

20/03/23    In the files released at 7AM, the incidence series jumps up
            by about 28% on 15/03/23.

            The files were revised at 5PM, removing this jump in incidence.
            If you look very closely at the changes, you can see steps on ONS
            reference days 16/12/21 through 21/01/23.

            The prevalence data file was not revised.  So that is still based
            on the incidence series with the 28% jump.

22/03/23    The incidence series jumps up by about 28% on 15/03/23.
            The jump is not present in the following days' files.


03/05/23
04/05/23
05/05/23    Incidence estimates are not updated.

...         Some flailing occurs.

08/05/23
09/05/23    Files are caught up retrospectively.

21/06/03
22/06/23    Files not updated.

...         Repeated flailing.

            ZOE: "The formulas simply don't have enough data to be able to make an accurate calculation.  We are really sorry about this!  Our scientists are working on developing a solution, but we are a small team and these things do take a little time to develop."

            https://web.archive.org/web/20230724092730/https://twitter.com/SoniaMills21/status/1677371669462102016

20/07/23    Files are caught up retrospectively.

            No clarification about how an 'accurate calculation' could now be made, including for the affected day(s).  Or how they might have found additional data for them.
